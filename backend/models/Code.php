<?phpnamespace backend\models;use Yii;/** * This is the model class for table "{{%code}}". * * @property integer $id * @property integer $number * @property string $phone * @property integer $expire_time * @property integer $create_time */class Code extends \yii\db\ActiveRecord{    /**     * @inheritdoc     */    public static function tableName()    {        return '{{%code}}';    }    /**     * @inheritdoc     */    public function rules()    {        return [            [['number', 'expire_time', 'create_time'], 'required'],            [['number', 'expire_time', 'create_time'], 'integer'],            [['phone'], 'string', 'max' => 20],        ];    }    /**     * @inheritdoc     */    public function attributeLabels()    {        return [            'id' => 'ID',            'number' => 'Number',            'phone' => 'Phone',            'expire_time' => 'Expire Time',            'create_time' => 'Create Time',        ];    }    public static function checkEmail($email, $code)    {        $data = array(            'error' => 0,            'message' => ''        );        $model = Code::find()->where(['email'=>$email])->one();        if (count($model) > 0) {            if ($model->number != $code) {                $data['error'] = 1;                $data['message'] = '验证码不正确';            }else{                if ($model->expire_time < time()) {                    $data['error'] = 1;                    $data['message'] = '验证码已过期';                }            }        } else {            $data['error'] = 1;            $data['message'] = '验证码未发送';        }        return $data;    }}